{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","imgSearcher","modalController","images","query","isLoading","offset","image","create","componentProps","modal","onDidDismiss","then","dataReturned","data","ionViewWillEnter","search","present","page","searchImg","subscribe","res","concat","err","console","log","Response","results","localStorage","setItem","getItem","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Gallery\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Gallery</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div class=\\\"container\\\">\\n    <ion-searchbar placeholder=\\\"Search for an Image\\\" #searchText (keyup.enter)=\\\"search(searchText.value)\\\"></ion-searchbar>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col sizeLg=\\\"4\\\" sizeMd=\\\"4\\\" sizeXs=\\\"6\\\" *ngFor=\\\"let image of images;\\\">\\n          <div class=\\\"img-wrapper\\\">\\n            <img src=\\\"{{ image.urls.small }}\\\" (click)=\\\"openModal(image)\\\" />\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n      <ion-button expand=\\\"block\\\" class=\\\"btn btn-primary btn-block\\\" *ngIf=\\\"!isLoading\\\" (click)=\\\"getMore()\\\">Get More</ion-button>\\n\\n      <p *ngIf=\\\"dataReturned\\\">{{dataReturned}}</p>\\n  </div>\\n\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \".img-wrapper {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1nLXdyYXBwZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG59Il19 */\";","import { Component } from '@angular/core';\nimport { ImgSearchService } from \"../imgsearch.service\";\nimport { ModalController } from '@ionic/angular';\nimport { ImageModalPage } from \"../image-modal/image-modal.page\";\n\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  results:any;\n  images = [];\n  query = '';\n  dataReturned: any;\n  public isLoading: boolean = true;\n  offset = 1;\n\n  constructor(private imgSearcher: ImgSearchService, public modalController: ModalController) {}\n\n  async openModal(image) {\n    const modal = await this.modalController.create({\n      component: ImageModalPage,\n      componentProps: {\n        \"imageObj\": image\n      }\n    });\n\n    modal.onDidDismiss().then((dataReturned) => {\n      if (dataReturned !== null) {\n        this.dataReturned = dataReturned.data;\n      }\n      this.ionViewWillEnter();\n      this.search(this.query);\n    });\n\n    return await modal.present();\n  }\n\n  getMore(){\n      this.isLoading = true;\n      this.offset = this.offset + this.imgSearcher.page;\n      this.imgSearcher.searchImg(this.query, this.offset).subscribe( res => {\n        if(this.query == ''){\n          // this.images = [];\n          this.images = this.images.concat(res);\n        }\n        else{\n          this.images = this.images.concat(res['results']);\n        }\n        // console.log(this.offset);\n        // console.log(this.images);\n        this.isLoading = false;\n      },\n      (err) => console.log('Ooops!', err),\n      () => console.log(Response, this.results)\n      )\n  }\n\n  search(query){\n    this.query = query;\n    localStorage.setItem('query', query);\n    this.imgSearcher.searchImg(this.query, 0).subscribe( res => {\n      if(this.query == ''){\n        this.images = [];\n        this.images = this.images.concat(res);\n      }\n      else{\n        this.images = res['results'];\n      }\n      // console.log(res);\n      // console.log(this.images);\n      this.isLoading = false;\n    },\n    (err) => console.log('Ooops!', err),\n    () => console.log(Response, this.results)\n    )\n\n  }\n\n  ionViewWillEnter(){\n    this.query = localStorage.getItem('query');\n    // console.log(\"Did data load? : \",this.query);\n    this.search(this.query);\n  }\n\n\n  ngOnInit(){\n    this.imgSearcher.searchImg(this.query, 0).subscribe( res => {\n      if(this.query == ''){\n        this.images = this.images.concat(res);\n      }\n      else{\n        this.images = res['results'];\n      }\n      // console.log(res);\n      // this.isLoading = false;\n    },\n    (err) => console.log('Ooops!', err),\n    () => console.log(Response, this.results)\n    )\n  }\n\n}\n"]}